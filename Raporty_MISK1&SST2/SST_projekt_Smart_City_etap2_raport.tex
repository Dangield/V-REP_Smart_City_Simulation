% !TeX encoding = utf8
% !TeX spellcheck = pl_PL

\documentclass[11pt, a4paper, twoside]{article}
\usepackage{graphicx, color, rotating} 
\usepackage[MeX, plmath]{polski} %MeX - tryb pełnej polonizacji
\usepackage[OT4]{fontenc} % T1 - skład fontami EC; OT4 - układ fontów PL
\usepackage{ae,aecompl}
\usepackage[utf8]{inputenc}
\usepackage{lmodern} %czcionka latin modern; jednolita dla tekstu i wzorów;
\usepackage{a4wide}
\usepackage{amsmath}
\usepackage{amssymb, latexsym}
\usepackage{array}
\usepackage{bm}
\usepackage[shortlabels]{enumitem}
\usepackage[font=footnotesize]{caption} %rozmiar czcionki podpisów pod rysunkami
\usepackage{float}
\usepackage{subfig} %obrazki obok siebie
\usepackage[hidelinks]{hyperref}
\usepackage{indentfirst}
\usepackage{geometry}
\geometry{left=25mm, right=25mm, top=25mm, bottom=25mm}

\usepackage[final]{pdfpages}
\usepackage{pdflscape}
\prefixing %notacja prefiksowa w pakiecie 'polski'
\frenchspacing
\linespread{1.1}
\renewcommand{\figurename}{Rys.}
\hyphenation{steer-ing}
%\renewcommand*\thesubsection{\arabic{subsection}} % zmiana numeracji podsekcji 0.X -> X

\begin{document}
	
	\begin{center} 
		{\Large Wydział Elektroniki i Technik Informacyjnych}
		\vskip0.2cm
		{\LARGE \textbf{Sieci i sterowanie systemami (SST): Smart City --~raport z etapu II projektu  } } 
		\vskip0.3cm
		{\Large Szymon Jarocki, Daniel Giełdowski, Maciej Kłos, Michał Okoński}
		\vskip0.8cm
	\end{center} 	
	
	Celem tego etapu było przygotowanie koncepcji rozwiązania zadania. W~tym celu stworzyliśmy model dzielnicy miasta oraz model pojazdu. Opracowaliśmy także algorytm sterowania, które zostanie zastosowany przy dalszej realizacji projektu oraz przygotowywaliśmy możliwość wykorzystania tego algorytmu w~symulatorze. Niniejsze prace zostały omówione w~sekcjach od~pierwszej do~czwartej. Z~kolei część piąta jest krótkim komentarzem odnośnie dalszych prac, których pomyślne zrealizowanie będzie równoznaczne z~zakończeniem projektu. 
	\section{Model dzielnicy miasta}
	Z~racji tego, że nie udało nam się znaleźć istniejącego już modelu dzielnicy miasta w~dostępnych źródłach (np. internetowych), stworzyliśmy taki model samodzielnie. Ze~względu na~ograniczenia programu V-REP wielkość modelu jest ograniczona. Plansza ma~wymiary prostokąta i~wobec tego przyjęliśmy, że wzdłuż jej krawędzi w~pewnym od~nich oddaleniu wytyczona jest droga obwodowa. Ponadto w~celu zapobieżenia wyjechaniu pojazdów poza mapę, co~skutkowałoby spadnięciem ich ,,w~przepaść'', na~skraju mapy wzdłuż krawędzi stoi mur. Co~więcej, aby model bardziej przypominał rzeczywistą dzielnicę miasta, dodane zostały budynki i~drzewa. Widok utworzonego modelu przedstawiono na~rysunku~\ref{fig:district}. 
	\begin{figure}[!h]
		\centering
		\includegraphics[width=.95\linewidth]{cityDistrict}
		\caption{Widok modelu dzielnicy miasta w~symulatorze V-REP}
		\label{fig:district}
	\end{figure}
	
	Założyliśmy, że ulice przecinają się pod kątem prostym zgodnie z~szachownicowym planem miasta, przy czym odległości pomiędzy kolejnymi równoległymi ulicami nie są stałe. Ulice traktujemy jako jednojezdniowe i~dwupasmowe --- po jednym pasie ruchu w~każdą stronę. Znaki drogowe i~sygnalizacja świetlna zostały rozmieszczone w~sposób adekwatny do~ruchu prawostronnego. Uwzględniliśmy trzy typu znaków drogowych: ,,stop'', ,,droga z~pierwszeństwem'' i~,,ustąp pierwszeństwa''. Sygnalizatory są z~kolei standardowego typu, tzn. mają trzy kolory świateł: zielone, żółte i~czerwone. Utworzona infrastruktura drogowa pozwoliła na~wyodrębnienie pięciu rodzajów skrzyżowań (ze~względu na~poruszanie się po~nich):
	\begin{itemize}
		\item z~sygnalizacją świetlną -- po~jednym sygnalizatorze na~każdy z~czterech ,,wlotów'',
		\item równorzędne -- bez znaków drogowych i sygnalizatorów; pierwszeństwo przejazdu zgodnie z~,,zasadą prawej ręki'',
		\item z drogą podporządkowaną występującą po obu stronach:
		\begin{itemize}
			\item ze~znakami ,,stop'',
			\item ze~znakami ,,ustąp pierwszeństwa'',
		\end{itemize}
		\item wjazd na~,,obwodnicę'' dzielnicy -- droga obwodowa zawsze z~pierwszeństwem przejazdu, podporządkowana zaś ze~znakiem ,,stop''.
	\end{itemize}

	\input{model.tex}
	\input{matlab_komunikacja.tex}
	\input{sterowanie.tex}
	
	\section{Plan dalszych prac}
	Kolejne nasze działania będą związane z~implementacją algorytmu sterowania wraz z~uwzględnieniem symulacji w~stworzonym modelu dzielnicy miasta. Przeprowadzimy odpowiednie testy i~dokonamy oceny poprawności rozwiązania. Weryfikacja powinna pozwolić na~znalezienie ewentualnych błędów lub nieoptymalności w~poruszaniu się pojazdów. Dzięki temu będzie możliwe stworzenie bardziej wartościowego symulatora. Finalnie nasze dalsze prace zostaną udokumentowane w~formie raportu końcowego.
		
\end{document}

